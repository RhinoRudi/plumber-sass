<!DOCTYPE html>
<html>

<head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
	<link rel="stylesheet" href="css/docs.css">
    <link rel="icon" sizes="192x192" href="img/favicon.png">
    <link rel="apple-touch-icon" href="img/favicon.png">
	<title>Plumber Documentation</title>
</head>

<body>
    <header>
        <ul>
            <li><a class="active" href="#">Plumber</a></li>
            <li><a href="baselines/">Baselines</a></li>
            <li><a href="measure/">Measure</a></li>
            <li><a href="https://github.com/jamonserrano/plumber-sass" target="_blank">GitHub</a></li>
        </ul>
    </header>

    <div class="toggle-grid">Grid</div>

	<main>
		<h1 id="toc_0">Plumber</h1>
		<p>Create better looking documents and speed up CSS development by adding vertical rhythm to your page.</p>

        <section>
            <h2>What is it?</h2>
            <p>Using a baseline grid on the web is not easy. For every font family and size you have to measure where the letters sit so you can shift the text to the nearest gridline. After this, you have to precariously add margins and paddings to keep the vertical rhythm.</p>
            <p>Plumber provides a single <abbr>SASS</abbr> mixin that does all the hard work for you.</p>
        </section>

		<section>
			<h2 id="toc_1">Installation</h2>

			<section>
                <h3 id="toc_2">Manual</h3>
                <p>Download and extract <a href="https://api.github.com/repos/jamonserrano/plumber-sass/zipball">the latest release</a>, move <code>_plumber.scss</code> into the vendor folder of your project and import it:</p>
                <pre><code class="language-scss">@import "vendor/plumber";</code></pre>
			</section>

			<section>
                <h3 id="toc_3">NPM / Yarn</h3>
                <p>Install:</p>
                <pre><code class="language-bash"># NPM
$ npm install plumber-sass --save-dev

# Yarn
$ yarn add plumber-sass --dev</code></pre>
                <p>And import it in your project:</p>
                <pre><code class="language-scss">@import "node_modules/plumber-sass/plumber";</code></pre>
			</section>

			<section>
                <h3 id="toc_4">Bower</h3>
                <p>Install:</p>
                <pre><code class="language-bash">$ bower install plumber-sass --save-dev</code></pre>
                <p>And import it in your project:</p>
                <pre><code class="language-scss">@import "bower_components/plumber-sass/plumber";</code></pre>
			</section>
		</section>

		<section>
			<h2 id="toc_5">Usage</h2>
            <p>1. Decide on the vertical grid height you will use in the unit of your choice (pixels or rems are recommended).</p>
            <p>2. Look up the baseline ratio of your font family <a href="baselines/">in the table</a>, use the <a href="measure/">measure tool</a> or <a href="#precision">calculate it</a>. For example the value for Roboto is 0.158203.</p>
            <figure>
                <img class="font-anatomy" src="img/font-anatomy.png" srcset="img/font-anatomy-2x.png 2x" alt="Font anatomy">
                <figcaption>The baseline ratio is the position of the baseline within the em box (measured from the bottom).</figcaption>
            </figure>
            <p>3. Include the plumber mixin in your styles – specify font size as a fraction, line height, top and bottom leadings as multiples of the grid height:</p>
            <pre><code class="language-scss">p {
	@include plumber(
		$grid-height: 1rem,
		$baseline: 0.158203,
		$font-size: 1.75,
		$line-height: 3,
		$leading-top: 1,
		$leading-bottom: 2
	);
    font-family: Roboto, sans-serif;
}</code></pre>
            <p>This will output the following CSS:</p>
            <pre><code class="language-css">p {
    font-size: 1.75rem;
    line-height: 3rem;
    margin-top: 0;
    padding-top: 0.81641rem;
    padding-bottom: 0.18359rem;
    margin-bottom: 2rem;
    font-family: Roboto, sans-serif;
}</code></pre>
            <p class="note">For a real-world example <a href="https://github.com/jamonserrano/plumber-sass/blob/gh-pages/scss/docs/_typography.scss" target="blank">take a look at the code</a> of this very page.</p>
            <!--<figure>
                <img class="terms" src="img/terms.png" srcset="img/terms-2x.png" alt="Plumber terms">
                <figcaption>Plumber parameters, visualized</figcaption>
            </figure>-->

            <section>
                <h3 id="toc_6">Default settings</h3>
                <p>To avoid repetition set up default values before using the mixin:</p>
                <pre><code class="language-scss">@include plumber-set-defaults(
    $grid-height: 1rem,
    $baseline: 0.158203,
    $font-size: 1.75,
    $line-height: 3,
    $leading-top: 1,
    $leading-bottom: 2
);

p {
    // using only default values
    @include plumber();
}

li {
    // override leadings
    @include plumber(
        $leading-top: 0,
        $leading-bottom: 1
    );
}</code></pre>
            </section>
            <section>
                <h3 id="toc_6">Using multiple fonts</h3>
                <p>When using multiple font families just add different <code>$baseline</code> parameters:</p>
                <pre><code class="language-scss">$body-font: Roboto, sans-serif;
$body-baseline: 0.158203;

$quote-font: Georgia, serif;
$quote-baseline: 0.151123;

p {
    @include plumber($baseline: $body-baseline);
    font-family: $body-font;
}

blockquote {
    @include plumber($baseline: $quote-baseline);
    font-family: $quote-font;
}</code></pre>
            </section>
            <section>
                <h3 id="toc_7">Responsive typography</h3>
                <p>For responsive typography define the grid height in rems or other relative units, and metrics will change along:</p>
                <pre><code class="language-scss">@include plumber-set-defaults(
    $grid-height: 1rem,
    $font-size: 1.75
);

html {
    font-size: 8px;
    // grid height => 8px, font size => 14px
    
    @media (min-width: 641px) {
        font-size: 12px;
        // grid-height => 12px, font size => 21px
    }
}</code></pre>
            </section>

            <section>
                <h3 id="toc_8">Leading calculation</h3>

                <p>Leadings are measured from the top and bottom edges of the text block by default. To measure them from the baseline, set <code>$use-baseline-origin: true</code> before using the mixin:</p>

                <pre><code class="language-scss">@include plumber-set-defaults($use-baseline-origin: true);</code></pre>
                <figure>
                    <img class="leading-origin" src="img/leading-origin.png" srcset="img/leading-origin-2x.png 2x" alt="Leading origin settings">
                    <figcaption>Left: default calculation, right: baseline origin.</figcaption>
                </figure>
            </section>
        </section>

		<section>
			<h2 id="toc_9">Considerations</h2>

			<section>
                <h3 id="precision">Precision</h3>

                <p>Due to rounding and browser rendering it’s entirely possible that the text will not sit exactly on the baseline. Following these guidelines will get you closer to pixel perfection:</p>
                <ul>
                    <li>Define grid height in pixels, or as multiples of the base font height</li>
                    <li>Use a grid height with many divisors.</li>
                    <li>Use font sizes that produce whole numbers with the grid height.</li>
                </ul>
                <p>If you have access to the OpenType metrics of the font you can calculate a more precise baseline ratio with the following formula:<br>
                <code>(UnitsPerEm − hhea.Ascender − hhea.Descender) / (2 × UnitsPerEm)</code></p>
			</section>

			<section>
                <h3 id="toc_11">Varying baseline among fonts in the same family</h3>
                <p>Although some weights or styles in the same family can sit on different baselines, it’s generally fine to use the one for the regular font. If pixel perfection is important, set individual baselines for each font.</p>
			</section>

			<section>
                <h3 id="toc_12">Viewport-specific units</h3>
                <p>While supported, using vh, vw, vmin, vmax for the grid height can lead to catastrophic results.</p>
			</section>

			<section>
                <h3 id="toc_13">Collapsing margins</h3>
                <p>Plumber’s use of collapsing margins makes it possible to set the minimum distance between blocks of texts. If you don’t need this, you can set either <code>$leading-top</code> or <code>$leading-bottom</code> to 0.</p>
			</section>
		</section>
		<section>
			<h2 id="toc_14">API</h2>
			<section>
                <h3 id="toc_15">plumber</h3>
                <p>The main mixin.</p>
                <p><strong>Parameters:</strong> all parameters are optional, default values can be changed with <code>plumber-set-defaults</code>.</p>
                <div class="table-wrapper">
                    <table class="parameters">
                        <thead>
                            <tr>
                                <th>Name</th>
                                <th>Descrip&shy;tion</th>
                                <th>Type</th>
                                <th>Default value</th>
                            </tr>
                        </thead>

                        <tbody>
                            <tr>
                                <td>$baseline</td>
                                <td>Baseline ratio</td>
                                <td>Fraction between 0 and 1</td>
                                <td>—</td>
                            </tr>
                            <tr>
                                <td>$font-size</td>
                                <td>Font size as a fraction of grid height</td>
                                <td>Positive number</td>
                                <td>2</td>
                            </tr>
                            <tr>
                                <td>$grid-height</td>
                                <td>Grid height</td>
                                <td>Any unit</td>
                                <td>1rem</td>
                            </tr>
                            <tr>
                                <td>$leading-top</em>
                                </td>
                                <td>Top leading<span class="note-sign">*</span> as a multiple of grid height</td>
                                <td>Integer</td>
                                <td>0<span class="note-sign">**</span></td>
                            </tr>
                            <tr>
                                <td>$leading-bottom</td>
                                <td>Bottom leading<span class="note-sign">*</span> as a multiple of grid height</td>
                                <td>Integer</td>
                                <td>0<span class="note-sign">**</span></td>
                            </tr>
                            <tr>
                                <td>$line-height</td>
                                <td>Line height as a multiple of grid height</td>
                                <td>Positive integer</td>
                                <td>3</td>
                            </tr>
                            <tr>
                                <td>$use-baseline-origin</td>
                                <td>Set the origin of leadings to the baseline</td>
                                <td>Boolean</td>
                                <td>false</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <p class="note">* Leadings are measured from either the baseline or the edges of the text block, depending on the <code>$plumber-leadings-from-baseline</code> setting.<br>
                ** The default value is always calculated so there will be no visible gap above or below the text block.
                </p>
                <p><strong>Output:</strong> <code>font-size</code>, <code>line-height</code>, <code>margin-top</code>, <code>padding-top</code>, <code>padding-bottom</code>, <code>margin-bottom</code> properties with the same unit as the grid height.</p>
			</section>

			<section>
                <h3 id="toc_16">plumber-set-defaults</h3>
                <p>Sets up or changes default parameters.</p>
                <p><strong>Parameters:</strong> same as the main mixin.</p>
			</section>

		</section>
        <section>
            <h2 id="toc_19">License</h2>
            <p>MIT License</p>
        </section>
	</main>
    <script src="js/prism.js"></script>
    <script src="js/toggle_grid.js"></script>
</body>

</html>
